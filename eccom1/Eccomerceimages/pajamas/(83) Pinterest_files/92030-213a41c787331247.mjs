(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92030],{823493:(e,t,r)=>{var n=r(23279),o=r(513218);e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},782677:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function c(e,t,r){return Object.keys(e).reduce((function(t,n){var o=""+n;return t.has(o)?t.set(o,r(t.get(o),e[o])):t}),t)}r.d(t,{Fv:()=>S,cY:()=>w,fK:()=>I});var l=function(){function e(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=r,o=n.idAttribute,a=void 0===o?"id":o,c=n.mergeStrategy,l=void 0===c?function(e,t){return i({},e,t)}:c,d=n.processStrategy,u=void 0===d?function(e){return i({},e)}:d,h=n.fallbackStrategy,f=void 0===h?function(e,t){}:h;this._key=e,this._getId="function"==typeof a?a:function(e){return function(t){return s(t)?t.get(e):t[e]}}(a),this._idAttribute=a,this._mergeStrategy=l,this._processStrategy=u,this._fallbackStrategy=f,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var n,o=e[r];return i({},t,((n={})[r]=o,n))}),this.schema||{})},t.getId=function(e,t,r){return this._getId(e,t,r)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,r,n,o,i){var a=this,s=this.getId(e,t,r),c=this.key;if(c in i||(i[c]={}),s in i[c]||(i[c][s]=[]),i[c][s].some((function(t){return t===e})))return s;i[c][s].push(e);var l=this._processStrategy(e,t,r);return Object.keys(this.schema).forEach((function(t){if(l.hasOwnProperty(t)&&"object"==typeof l[t]){var r=a.schema[t],s="function"==typeof r?r(e):r;l[t]=n(l[t],l,t,s,o,i)}})),o(this,l,e,t,r),s},t.denormalize=function(e,t){var r=this;return s(e)?c(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var o=r.schema[n];e[n]=t(e[n],o)}})),e)},o(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,r){return!this.isSingleSchema&&this._schemaAttribute(e,t,r)},t.inferSchema=function(e,t,r){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,r);return this.schema[n]},t.normalizeValue=function(e,t,r,n,o,i){var a=this.inferSchema(e,t,r);if(!a)return e;var s=n(e,t,r,a,o,i);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,r)}},t.denormalizeValue=function(e,t){var r=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||r?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[r]):e},o(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,r){if(!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,r)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,i){return this.normalizeValue(e,t,r,n,o,i)},r.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),h=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,a){var s=this;return Object.keys(e).reduce((function(t,r,c){var l,d=e[r];return null!=d?i({},t,((l={})[r]=s.normalizeValue(d,e,r,n,o,a),l)):t}),{})},r.denormalize=function(e,t){var r=this;return Object.keys(e).reduce((function(n,o){var a,s=e[o];return i({},n,((a={})[o]=r.denormalizeValue(s,t),a))}),{})},t}(d),f=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},p=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},_=function(e,t,r,n,o,i,a){return e=f(e),p(t).map((function(t,s){return o(t,r,n,e,i,a)}))},m=function(e,t,r){return e=f(e),t&&t.map?t.map((function(t){return r(t,e)})):t},b=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var r=t.prototype;return r.normalize=function(e,t,r,n,o,i){var a=this;return p(e).map((function(e,s){return a.normalizeValue(e,t,r,n,o,i)})).filter((function(e){return null!=e}))},r.denormalize=function(e,t){var r=this;return e&&e.map?e.map((function(e){return r.denormalizeValue(e,t)})):e},t}(d),y=function(e,t,r,n,o,a,s){var c=i({},t);return Object.keys(e).forEach((function(r){var n=e[r],i="function"==typeof n?n(t):n,l=o(t[r],t,r,i,a,s);null==l?delete c[r]:c[r]=l})),c},g=function(e,t,r){if(s(t))return c(e,t,r);var n=i({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=r(n[t],e[t]))})),n},v=function e(t,r,n,o,i,a){return"object"==typeof t&&t?"object"!=typeof o||o.normalize&&"function"==typeof o.normalize?o.normalize(t,r,n,e,i,a):(Array.isArray(o)?_:y)(o,t,r,n,e,i,a):t},I={Array:b,Entity:l,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var n,o=e[r];return i({},t,((n={})[r]=o,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:h},S=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var r={},n=function(e){return function(t,r,n,o,i){var a=t.key,s=t.getId(n,o,i);a in e||(e[a]={});var c=e[a][s];e[a][s]=c?t.merge(c,r):r}}(r);return{entities:r,result:v(e,e,null,t,n,{})}},A=function(e){var t={},r=P(e);return function e(n,o){return"object"!=typeof o||o.denormalize&&"function"==typeof o.denormalize?null==n?n:o instanceof l?function(e,t,r,n,o){var a=n(e,t);if(void 0===a&&t instanceof l&&(a=t.fallback(e,t)),"object"!=typeof a||null===a)return a;if(o[t.key]||(o[t.key]={}),!o[t.key][e]){var c=s(a)?a:i({},a);o[t.key][e]=c,o[t.key][e]=t.denormalize(c,r)}return o[t.key][e]}(n,o,e,r,t):o.denormalize(n,e):(Array.isArray(o)?m:g)(o,n,e)}},P=function(e){var t=s(e);return function(r,n){var o=n.key;return"object"==typeof r?r:t?e.getIn([o,r.toString()]):e[o]&&e[o][r]}},w=function(e,t,r){if(void 0!==e)return A(r)(e,t)}},957119:(e,t,r)=>{r.d(t,{j:()=>i});const n={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},o=e=>{if(!e)return"";let t="";for(let r=0;r<e.length;r+=1)t+=n[e.charAt(r)]||e.charAt(r);return t},i=(e,t,r="name")=>{const n=t.toLowerCase();return e.filter((e=>((e,t)=>{const r=t.split(" "),n=e.split(" ");let i=0;for(let a=0;a<n.length;a+=1)(o(n[a]).includes(r[i])||n[a].includes(r[i]))&&(i+=1);return i===r.length})(e[r].toLowerCase(),n)))}},917311:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(693456),o=r(89061),i=r(883119),a=r(785893);const s=({collaborator_count:e,useLegoLayout:t,type:r})=>t?(0,a.jsx)(i.xu,{marginEnd:e?2:0,children:(0,a.jsx)(n.Z,{type:r})}):(0,a.jsx)(n.Z,{type:r}),c=({board:e,showCollaborativeIcon:t,showPrivateIcon:r,showProtectedIcon:c,showSectionsIcon:l,useLegoLayout:d})=>{var u;const h=(null==e||null===(u=e.collaborating_users)||void 0===u?void 0:u.length)||0;return t||r||c||l?(0,a.jsxs)(i.xu,{display:"flex",direction:"row",marginEnd:d?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[r&&(0,a.jsx)(s,{collaborator_count:h,useLegoLayout:d,type:"secret"}),c&&(0,a.jsx)(s,{collaborator_count:h,useLegoLayout:d,type:"protected"}),t&&(d?(0,a.jsx)(o.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(n.Z,{type:"group"})),l&&(0,a.jsx)(n.Z,{type:"sections"})]}):null}},130053:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(883119),o=r(785893);const i=({image_url:e,naturalHeight:t,naturalWidth:r})=>(0,o.jsx)(n.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,o.jsx)(n.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,o.jsx)(n.Ee,{src:e,alt:"",naturalHeight:t,naturalWidth:r})})})},501817:(e,t,r)=>{r.d(t,{O:()=>s,Q:()=>c});var n=r(588028),o=r(280773),i=r(414327);const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:n},o)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})})},c=e=>a.reduce(((t,r)=>{const a=[(0,o.Z)("profileBoards",(0,n.O)(e,r))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{a.push((0,i.jB)(s.name,s.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:n})))}))})),t.concat(a)}),[])},693456:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(898781),o=r(883119),i=r(785893);const a=function({type:e}){const t=(0,n.ZP)(),r={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[e];return(0,i.jsx)(o.xu,{marginStart:1,children:(0,i.jsx)(o.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,i.jsx)(o.JO,{accessibilityLabel:r.accessibilityLabel,icon:r.icon,size:"12",color:"default"}):(0,i.jsx)(o.JO,{accessibilityLabel:r.accessibilityLabel,icon:r.icon,size:16,color:"default"})})})}},275903:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(667294),o=r(966338),i=r(4392),a=r(755742),s=r(756777),c=r(717615),l=r(19121),d=r(231947),u=r(898781),h=r(883119),f=r(785893);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends n.Component{constructor(e){super(e),p(this,"onCreateSection",(()=>{const{board:e,dispatch:t,completeCreateSectionAction:r,pinImport:n,viewer:o,orbacActingAs:a}=this.props,s=(0,d.lJ)(o,a);return this.setState({isSaving:!0}),t((0,i.Z)({boardId:e.id,name:this.state.inputName.trim(),pinImport:n},this.props.i18n,s)).then((e=>{this.setState({isSaving:!1}),r(e)})).catch((e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})}))})),p(this,"handleKeyDown",(({event:e,value:t})=>{const{createError:r,inputName:n}=this.state;[a.Z.ENTER,a.Z.NUMPAD_ENTER].includes(e.which)&&!r&&n.trim()&&this.onCreateSection()})),p(this,"handleChangeName",(({value:e})=>{this.setState({createError:null,inputName:e})})),p(this,"handleInputRef",(e=>{this.setState({inputRef:e})})),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:r,inputRef:n}=this.state;!n||t.inputRef&&!r||n.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:r,inputName:n,isSaving:o}=this.state,i=!!n.trim()&&!r;return(0,f.jsxs)(h.xu,{display:"flex",direction:"column",color:"default",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&(0,f.jsx)(h.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,f.jsx)(h.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,f.jsxs)(h.xu,{padding:4,children:[(0,f.jsx)(h.xu,{marginBottom:2,children:(0,f.jsx)(h.__,{htmlFor:"sectionEditName",children:(0,f.jsx)(h.xv,{size:"200",color:r?"error":"subtle",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,f.jsx)(h.xu,{children:(0,f.jsx)(h.xu,{ref:this.handleInputRef,children:(0,f.jsx)(h.nv,{errorMessage:r||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:n})})})]}),(0,f.jsx)(h.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,f.jsx)(h.xu,{padding:4,children:(0,f.jsx)(h.kC,{alignItems:"stretch",justifyContent:"end",children:(0,f.jsx)(s.Z,{disabled:!i||o,onClick:this.onCreateSection,submitting:o,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}const m=(0,o.connect)()((function(e){const t=(0,u.ZP)(),r=(0,l.Z)(),n=(0,c.Z)();return(0,f.jsx)(_,{...e,i18n:t,viewer:r,orbacActingAs:n})}))},683190:(e,t,r)=>{r.d(t,{Fi:()=>_,K8:()=>u,Tq:()=>l,YV:()=>f,oL:()=>d,xH:()=>p,xk:()=>h});var n=r(280773),o=r(6637),i=r(935409),a=r(281615),s=r(379725),c=r(501817);function l(e,t){return(0,s.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function d(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}function u(e){return t=>{e&&(0,c.Q)(e).forEach((e=>{t(e)}))}}function h(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),o.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate())}function f(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),o.ZP.create("BoardArchiveResource",{boardId:e}).callDelete())}function p(e,t,r){return s=>o.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...r?{orbac_subject_id:r}:{}}).callUpdate().then((()=>Promise.all([s((0,i.eo)({boardId:e})),s(l(t,"pin_count")),s((0,n.Z)(a.DV.BOARD_SECTIONS,t))])))}function _(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},280773:(e,t,r)=>{function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{Z:()=>n})},843747:(e,t,r)=>{r.d(t,{Z:()=>_,S:()=>p});var n=r(417498),o=r(280773),i=r(820384),a=r(674578),s=r(6637),c=r(683190),l=r(281615),d=r(124237);const u=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},h=e=>(0,o.Z)(e.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,e.sectionId||e.boardId);function f(e,t){const{source:r,target:o}=e;o.boardId!==r.boardId?(t((0,c.Tq)(r.boardId,"pin_count")),t((0,c.Tq)(o.boardId,"pin_count"))):r.sectionId&&o.sectionId||t((0,c.Tq)(o.boardId,"pin_count")),r.sectionId&&t((0,n.Z)(r.sectionId)),o.sectionId&&t((0,n.Z)(o.sectionId))}function p(e){return t=>{const{selectedPinIds:r,source:n,target:o}=e;t((0,a.Z)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:r,itemType:"pin"})),t((0,i.Z)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:r,itemType:"pin"})),f(e,t)}}function _(e,t){return r=>function(e,t,r){const{inverseSelection:n,selectedPinIds:o,source:c,target:d}=e;if(c.boardId===d.boardId&&(c.sectionId||null)===(d.sectionId||null))return Promise.reject();if(n){const e={board_id:c.boardId,new_board_id:d.boardId,old_section_id:c.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:o};return s.ZP.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(h(c)),t(h(d))]))).catch(u(r))}{const e=(e,r)=>{t((0,a.Z)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:o,itemType:"pin"})),t((0,i.Z)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.DV.SECTION_PINS:l.DV.BOARD_PINS,itemIds:o,itemType:"pin"}))};e(c,d);const n=()=>e(d,c);if(d.boardId===c.boardId){if(d.sectionId){const e={section_id:d.sectionId,pins:o};return s.ZP.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{n(),u(r)(e)}))}{const e={section_id:c.sectionId,pins:o};return s.ZP.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{n(),u(r)(e)}))}}{const e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:o};return s.ZP.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{n(),u(r)(e)}))}}}(e,r,t).then((()=>f(e,r)))}},4392:(e,t,r)=>{r.d(t,{Z:()=>u,h:()=>d});var n=r(280773),o=r(820384),i=r(843747),a=r(6637),s=r(683190),c=r(281615),l=r(414327);function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:r,pinImport:u,initialPinIds:h=[]},f,p){let _=0;"RECOMMENDATION"===r?_=1:"EDITED_RECOMMENDATION"===r&&(_=2);const m={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:_,...p?{orbac_subject_id:p}:Object.freeze({})};return t=>a.ZP.create("BoardSectionResource",m).callCreate({showError:!1}).then((({resource_response:{data:r}})=>{t(d(e,r)),t((0,o.Z)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[r.id],itemType:"board_section"})),t((0,s.Tq)(e,"pin_count")),t((0,l.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:h}=u||{all:!1,pinIds:[]};return a?new Promise(((n,o)=>t((0,i.Z)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:r.id}},f)).then((()=>n(r))).catch(o))):(h.length>0&&t((0,n.Z)(c.DV.BOARD_PINS,e)),r)}))}},417498:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(379725);function o(e,t){return r=>r((0,n.U2)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},720247:(e,t,r)=>{function n(e){let t=!1;return{promise:new Promise(((r,n)=>{e.then((e=>t?n({isCanceled:!0}):r(e)),(e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}r.d(t,{Z:()=>n})},129291:(e,t,r)=>{r.d(t,{MH:()=>c,ad:()=>s,iN:()=>l});var n=r(7789),o=r(584992);const{Provider:i,useHook:a}=(0,o.Z)({name:"board_picker",v2LoggerMetricName:16,sampleRate:n.DQ?1:.1}),s=(e,t)=>{let r="unknown";null!=t&&t.includes("pin/")?r="PinCloseup":"/"===t?r="HomeFeed":"PinBookMarklet"===t&&(r="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",r,"STRING")},c=i,l=a},730447:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(667294),o=r(254469);function i({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:r,resourceName:i,resourceOptions:a,value:s}){const c=(0,o.Z)({allowSearchOnMount:e,resourceName:i,resourceOptions:a,value:s});return(0,n.useEffect)((()=>{null!=c&&c.length&&r(c)}),[c]),t||null}},169158:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(667294),o=r(823493),i=r.n(o);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends n.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",(e=>{this.containerRef=e})),a(this,"fetchMoreIfNecessary",i()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:r},n)=>e+t+(n?n(t):2*t)>r)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},756777:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(883119),o=r(785893);const i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:i,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:r,size:i,submitting:s,text:c}){return(0,o.jsxs)(n.xu,{display:"flex",position:"relative",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(n.zx,{color:"red",disabled:e||s,name:t,onClick:r,size:i,type:"submit",text:c})]})}},89061:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(189734),o=r.n(n),i=r(898781),a=r(19121),s=r(883119),c=r(349700),l=r(785893);function d(e){var t,r,n,o;const i=null!==(t=null!==(r=null==e?void 0:e.imageMediumUrl)&&void 0!==r?r:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(n=null!==(o=null==e?void 0:e.fullName)&&void 0!==o?o:null==e?void 0:e.full_name)&&void 0!==n?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u({board:e,forceViewer:t,isCompact:r,ownerOnly:n}){var u,h,f,p,_;const m=(0,i.ZP)(),b=(0,a.Z)(),y=n?[d(null==e?void 0:e.owner)]:function(e,t,r){const{collaborated_by_me:n,collaborating_users:i,owner:a}=null!=e?e:{},s=null!=i?i:[],c=[a];if(n||r){const e=s.findIndex((e=>t.isAuth&&e.id===t.id));if(-1!==e){const t=s.splice(e,1)[0];c.push(t)}else c.push(t)}const l=o()(s,"full_name");return[...c,...l]}(e,b,t).map(d),g=y.slice(0,3).map((e=>e.name));let v="";switch(y.length){case 3:v=(0,c.Wc)(`${m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${null!==(u=g[0])&&void 0!==u?u:""}`,second:`${null!==(h=g[1])&&void 0!==h?h:""}`,last:`${null!==(f=g[2])&&void 0!==f?f:""}`});break;case 2:v=(0,c.Wc)(`${m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${null!==(p=g[0])&&void 0!==p?p:""}`,second:`${null!==(_=g[1])&&void 0!==_?_:""}`});break;default:v=g.join(", ")}const I=y.length>3?(0,c.Wc)(`, ${m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', y.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:v,leftCount:""+(y.length-3)}):(0,c.Wc)(`, ${m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:v});return(0,l.jsx)(s.HE,{accessibilityLabel:I,collaborators:y,size:r?"xs":"sm"})}},223123:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(966338),o=r(6637),i=r(332611),a=r(886858),s=r(379725),c=r(414327),l=r(782677);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:r,deprecatedSchemaForNormalization:n}){var d,u;const h=await o.ZP.create("BoardResource",r).callCreate(),f=null===(d=h.resource_response)||void 0===d?void 0:d.data,p=n?(0,l.Fv)(f,n):void 0;e((0,c.XM)("BoardResource",r,h,p)),e((0,i.fO)({event_type:20})),null!==(u=f.owner)&&void 0!==u&&u.id&&e((0,s.bi)("UserResource",{options:{user_id:f.owner.id,field_set_key:"save_behavior"}}));const _=t.BoardsResource||{},m=t.BoardsFeedResource||{};return Object.keys(_).forEach((t=>{var r;(0,a.k)(t).username===(null===(r=f.owner)||void 0===r?void 0:r.username)&&e((0,c.jB)("BoardsResource",t))})),Object.keys(m).forEach((t=>{var r;(0,a.k)(t).username===(null===(r=f.owner)||void 0===r?void 0:r.username)&&e((0,c.jB)("BoardsFeedResource",t))})),f}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92030-213a41c787331247.mjs.map